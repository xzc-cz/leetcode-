<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        var generateMatrix = function(n) {
            let startX = startY = 0; // 起始位置
            let loop = Math.floor(n / 2); // 旋转圈数
            let mid = Math.floor(n / 2); // 中间位置
            let offset = 1; // 控制每一层填充元素个数
            let count = 1; // 更新填充数字
            let res = new Array(n).fill(0).map(() => new Array(n).fill(0));

            while (loop--) {
                let row = startX,
                    col = startY;
                //上行
                for (; col < startY + n - offset; col++) {
                    res[row][col] = count++;
                }
                //右列
                for (; row < startX + n - offset; row++) {
                    res[row][col] = count++;
                }
                //下行
                for (; col > startY; col--) {
                    res[row][col] = count++;
                }
                //左列
                for (; row > startX; row--) {
                    res[row][col] = count++;
                }
                //更新起始位置
                startX++;
                startY++;
                //更新offset
                offset += 2;
            }
            //若n为奇数,单独赋值矩阵中心
            if (n % 2 === 1) {
                res[mid][mid] = count;
            }
            return res;
        };

        var n = 100;
        console.log(generateMatrix(n));
    </script>
</body>

</html>